{% extends 'admin-base.html.twig' %}
{% block title %}Hello AdminDashboardController!{% endblock %}

{% block body %}

<main>

  {% for message in app.flashes('info') %}
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Bravo!</strong> {{message}}.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}
 
    <div class="container-fluid px-4">
        <h1 class="mt-4">Categorie</h1>     
        
        
        <div class="card mb-4">
            <div class="card-header">
                <i class="fas fa-table me-1"></i>
                DataTable Example
            </div>
            <div class="card-body">
                <table id="example" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>prix</th>
                            <th>date</th>
                            <th>tel</th>
                            <th>email</th>
                            <th>Annuler</th>

                        </tr>
                    </thead>
                    <tbody>
                        {% for commande in commandes %}
                        <tr>
                            <td>{{commande.prix}}</td>
                            <td>{{commande.dateDTM|date("m/d/Y")}}</td>
                            <td>{{commande.tel}}</td>
                            <td>{{commande.email}}</td>
                            <td><a type="button" class="btn btn-danger confirmation" href="{{ path('supprimer_commande', {'id': commande.id}) }}" ><i class="fa-solid fa-trash"></i>Annuler</a></td>
                        </tr>  
                        {% endfor %}
                        
                       
                        
                    </tbody>
                </table>
            </div>
        </div>
        
        
    </div>
</main>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script type="text/javascript">
  var elems = document.getElementsByClassName('confirmation');
  var confirmIt = function (e) {
      if (!confirm('Are you sure?')) e.preventDefault();
  };
  for (var i = 0, l = elems.length; i < l; i++) {
      elems[i].addEventListener('click', confirmIt, false);
  }
</script>

{% endblock %}
